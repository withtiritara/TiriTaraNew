<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Journey Details - Tiri Tara</title>
    <link rel="icon" type="image/svg+xml" href="./assets/logo.webp">
    <link rel="stylesheet" href="style.css">

    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
            t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "u6zfyrv7r7");
    </script>
    <style>
        /* Global overflow fix */
        body {
            overflow-x: hidden;
        }

        /* Journey Details Page Specific Styles */
        .journey-details-page {
            min-height: 100vh;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
            padding-top: 100px;
            overflow-x: hidden;
        }

        .journey-details-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }

        .journey-card {
            position: relative;
            z-index: 2;
            max-width: 800px;
            width: calc(100% - 2rem);
            margin: 5rem auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
        }

        .journey-card h1 {
            font-family: var(--description-font);
            color: #e67e22;
            font-size: 2.2rem;
            font-weight: 700;
            margin-top: -0.5rem;
            margin-bottom: 1rem;
            text-align: center;
            border-bottom: 2px solid #e67e22;
            padding-bottom: 0.75rem;
            grid-column: 1 / -1;
        }

        .journey-content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 1rem;
            align-items: start;
            width: 100%;
            box-sizing: border-box;
        }

        .journey-info {
            margin-bottom: 1rem;
        }

        .journey-info-item {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 0.5rem 0;
            width: 100%;
            box-sizing: border-box;
        }

        .journey-info-label {
            font-family: var(--description-font);
            font-weight: 600;
            color: #2c3e50;
            min-width: 130px;
            flex-shrink: 0;
            font-size: 0.9rem;
        }

        .journey-info-value {
            font-family: var(--description-font);
            color: #2c3e50;
            text-align: right;
            flex: 1;
            margin-left: 1rem;
            font-size: 0.9rem;
            font-weight: 500;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .price-highlight {
            color: #000000;
            font-weight: 700;
            font-size: 1rem;
        }

        .horizontal-divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #e67e22, transparent);
            margin: 1.5rem 0;
            border: none;
            grid-column: 1 / -1;
        }

        .what-to-expect {
            margin-top: 0;
            max-height: 300px;
            overflow-y: auto;
        }

        .what-to-expect h2 {
            font-family: var(--description-font);
            color: #2c3e50;
            font-size: 1.3rem;
            font-weight: 600;
            margin-top: 0.3rem;
            margin-bottom: 1rem;
        }

        .what-to-expect p {
            font-family: var(--description-font);
            color: #2c3e50;
            line-height: 1.6;
            font-size: 0.95rem;
            font-weight: 400;
            text-align: left;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .what-to-expect p:last-child {
            margin-bottom: 0;
        }

        .back-button {
            position: fixed;
            top: 120px;
            left: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
            text-decoration: none;
            color: #e67e22;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateX(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .book-now-section {
            text-align: center;
            margin-top: 0.75rem;
            padding-top: 0;
            grid-column: 1 / -1;
        }

        .book-now-btn {
            font-family: var(--description-font);
            background: linear-gradient(135deg, #e67e22 100%, #d35400 100%);
            color: white;
            border: none;
            padding: 0.875rem 2.5rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }


        /* Floating navbar - use default styles from style.css */

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .journey-card {
                margin: 1rem;
                padding: 1.5rem;
                max-width: none;
                width: calc(100% - 2rem);
                box-sizing: border-box;
            }

            .journey-card h1 {
                font-size: 1.75rem;
                margin-bottom: 1rem;
            }

            .journey-content-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                width: 100%;
                box-sizing: border-box;
            }

            .journey-info-item {
                flex-direction: column;
                align-items: flex-start;
                padding: 0.5rem 0;
                width: 100%;
                box-sizing: border-box;
            }

            .journey-info-label {
                margin-bottom: 0.25rem;
                min-width: auto;
                font-size: 0.85rem;
            }

            .journey-info-value {
                text-align: left;
                margin-left: 0;
                font-size: 0.85rem;
                word-wrap: break-word;
                overflow-wrap: break-word;
                width: 100%;
            }

            .back-button {
                position: static;
                margin: 1rem;
                display: inline-block;
            }

            .what-to-expect p {
                text-align: left;
                font-size: 0.9rem;
            }

            .what-to-expect h2 {
                font-size: 1.2rem;
            }

            .book-now-btn {
                padding: 0.75rem 2rem;
                font-size: 0.9rem;
            }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
            .journey-card {
                margin: 0.5rem;
                padding: 1rem;
                width: calc(100% - 1rem);
            }

            .what-to-expect p {
                text-align: left;
                font-size: 0.7rem;
                margin-bottom: 0;
            }

            .what-to-expect h2 {
                font-size: 1rem;
                margin-bottom: 0;
            }

            .journey-content-grid {
                gap: 0;
            }

            .journey-info-item {
                padding: 0.2rem 0;
            }

            .journey-card h1 {
                font-size: 1.2rem;
            }

            .journey-info-label {
                font-size: 0.7rem;
            }

            .journey-info-value {
                font-size: 0.7rem;
            }
        }

        /* Coming Soon Styles */
        .coming-soon {
            text-align: center;
            color: #2c3e50;
            font-family: var(--description-font);
            padding: 1rem 0;
        }

        .coming-soon h2 {
            color: #e67e22;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .coming-soon p {
            font-size: 1rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
            opacity: 0.9;
        }

        .coming-soon .tribe-join-btn {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
            color: white;
            border: none;
            padding: 0.875rem 2rem;
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);
        }

        .coming-soon .tribe-join-btn:hover {
            background: linear-gradient(135deg, #d35400 0%, #c0392b 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(230, 126, 34, 0.4);
        }

        .coming-soon .book-now-btn {
            background: linear-gradient(135deg, #e67e22 100%, #d35400 100%);
            color: white;
            border: none;
            padding: 0.875rem 2.5rem;
            margin-top: 1rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);
            font-family: var(--description-font);
        }
    </style>
</head>

<body class="journey-details-page" id="journey-page-body">
    <!-- Floating Navigation -->
    <nav class="floating-navbar">
        <div class="navbar-container">
            <div class="navbar-left">
                <!-- Logo moved to extreme left -->
                <div class="navbar-brand">
                    <a href="index.html">
                        <img src="./assets/logo.webp" alt="Tiri Tara" class="brand-logo">
                    </a>
                </div>
            </div>

            <div class="navbar-right">
                <!-- Navigation links and icons grouped together -->
                <div class="navbar-text-links">
                    <a href="all-trips.html" class="nav-text-link" title="All Trips" aria-label="All Trips">Trips</a>
                    <a href="about-us.html" class="nav-text-link" title="About Us" aria-label="About Us">About</a>
                    <a href="contact-us.html" class="nav-text-link" title="Contact Us"
                        aria-label="Contact Us">Contact</a>
                </div>
                <div class="navbar-social-icons">
                    <a href="https://www.instagram.com/withtiritara?igsh=NGg5YXF3NDNuNHNm&utm_source=qr"
                        class="nav-icon-link" target="_blank" rel="noopener" title="Instagram" aria-label="Instagram">
                        <img src="./assets/social/instagram.svg" alt="Instagram" class="nav-icon">
                    </a>
                    <a href="https://chat.whatsapp.com/LeKbUgTuEYXGoNCn3P36pT?mode=wwc" class="nav-icon-link"
                        target="_blank" rel="noopener" title="WhatsApp" aria-label="WhatsApp">
                        <img src="./assets/social/whatsapp.svg" alt="WhatsApp" class="nav-icon">
                    </a>
                    <a href="https://www.linkedin.com/company/tiritara/" class="nav-icon-link"
                        target="_blank" rel="noopener" title="LinkedIn" aria-label="LinkedIn">
                        <img src="./assets/social/linkedin.svg" alt="LinkedIn" class="nav-icon">
                    </a>
                </div>
                <a onclick="openJoinForm(event, true)" class="navbar-link join-tribe" id="nav-join-tribe">Join the
                    Tribe</a>
            </div>
        </div>
    </nav>
    <!-- Journey Card -->
    <div class="journey-card" id="journey-card">
        <!-- Content will be populated by JavaScript -->
    </div>

    <!-- Footer -->
    <footer class="site-footer" aria-label="Site footer"
        style="position: relative; z-index: 2; background: rgba(45, 90, 45, 0.95); backdrop-filter: blur(10px);">
        <div class="footer-inner">
            <div class="footer-top-row">
                <p>&copy;2025 Tiri Tara</p>
                <div class="footer-contact">
                    <p>Phone: <a href="tel:+919876543210" class="phone-link">+91 81431 20853</a></p>
                </div>
            </div>
            <div class="footer-links">
                <a href="terms-of-service.html" target="_blank" rel="noopener noreferrer" class="footer-link">Terms of
                    Service</a>
                <a href="refund-cancellation-policy.html" target="_blank" rel="noopener noreferrer"
                    class="footer-link">Refund and Cancellation Policies</a>
                <a href="privacy-policy.html" target="_blank" rel="noopener noreferrer" class="footer-link">Privacy
                    Policy</a>
            </div>
        </div>
    </footer>

    <!-- Join Form Popup Modal -->
    <div id="joinFormPopup" class="form-popup-overlay" aria-hidden="true" role="dialog" aria-modal="true">
        <div class="form-popup-container">
            <div class="form-popup-header">
                <h2 class="form-popup-title">Join the Tiri Tribe</h2>
                <div class="form-header-actions">
                    <button class="form-close-btn" onclick="closeJoinForm()">&times;</button>
                </div>
            </div>
            <div class="form-popup-content">
                <iframe
                    src="https://docs.google.com/forms/d/e/1FAIpQLSe5HxGSO54PIwLqk9pgOAM8XMpo86Pgz4HiHf0i17p-lFXX9w/viewform?embedded=true"
                    class="google-form-iframe" title="Join the Tiri Tribe - Signup Form" width="100%" height="100%"
                    frameborder="0" marginheight="0" marginwidth="0" aria-label="Join the Tiri Tribe form">
                    Loading…
                </iframe>
            </div>
        </div>
    </div>

    <script>
        // Journey data configuration
        const journeyData = {
            hampi: {
                title: "Hampi Weekend Getaway",
                backgroundImage: "./journeys/Hampi.webp",
                dates: "",
                start: "",
                return: "",
                price: "Dorm (8-share): ₹7,499 <br/> Room (2-share): ₹7,899",
                maxSpots: "15 only",
                lastDate: "",
                includes: "Travel, Stay, Food (₹300/day meal cap), Tickets and Activities",
                description: "Think sunrises on hilltops, sunsets over temples, and a river that holds a few surprises of its own.\n\nYou might chase reflections, paddle through stillness, or catch a quiet moment with a creature older than the stones themselves.\n\nWhen the last sunset fades, all you'll want is one more evening in Hampi.",
                status: "completed"
            },
            panchgani: {
                title: "Panchgani Weekend Getaway",
                backgroundImage: "./journeys/Panchgani.webp",
                dates: "",
                start: "",
                return: "",
                price: " ₹8,999",
                maxSpots: "15 only",
                lastDate: "",
                includes: "Travel, Stay, Food (₹300/day meal cap for two days), Organic Farm Tour, Kombucha Making, Yoga in the Wild, Awakening in the Forest, Waterfall Visit, Bonfire Night, Strawberry Field Visit, and two days of living quietly among animals and nature.",
                description: `Think slow mornings wrapped in valley mist, a rustic villa older than most stories we know, and days that move at the pace of leaves swaying outside your window.

You might wander through strawberry fields, sit by a bonfire with strangers who slowly become familiar, or share space with gentle animals that make the place feel like home.

Some hours will feel playful, some deeply quiet — the kind where solitude feels like company.
And somewhere between the waterfall wind and the wild yoga session, you’ll find a version of yourself you didn’t expect to meet.

When the weekend ends, you’ll wish the valley had held you a little longer.`,
                status: "completed"
            },
            araku: {
                title: "Araku",
                backgroundImage: "./journeys/araku.webp",
                description: "Discover the beautiful Araku Valley with us. More details will be revealed soon!",
                status: "To be Revealed Soon!"
            },
            aurangabad: {
                title: "Aurangabad",
                backgroundImage: "./journeys/Aurangabad.png",
                description: "Explore the historical city of Aurangabad with its magnificent caves and rich heritage. More details coming soon!",
                status: "Request Invite"
            },
            badami: {
                title: "Badami",
                backgroundImage: "./journeys/Badami.png",
                description: "Discover the ancient rock-cut temples and stunning architecture of Badami. Details will be revealed soon!",
                status: "Request Invite"
            },
            bairlutyjunglecamp: {
                title: "Bairluty Jungle Camp",
                backgroundImage: "./journeys/Bairluty (Jungle Camp).png",
                description: "Experience the thrill of jungle camping in Bairluty. Get ready for an adventure in the wild!",
                status: "Request Invite"
            },
            bhandardarafireflyfestival: {
                title: "Bhandardara Firefly Festival",
                backgroundImage: "./journeys/Bhandardara (Firefly Festival).png",
                description: "Witness the magical firefly festival in Bhandardara. A mesmerizing natural spectacle awaits!",
                status: "Request Invite"
            },
            bhor: {
                title: "Bhor",
                backgroundImage: "./journeys/Bhor.png",
                description: "Explore the scenic beauty and cultural heritage of Bhor. More details coming soon!",
                status: "Request Invite"
            },
            coorg: {
                title: "Coorg",
                backgroundImage: "./journeys/Coorg.png",
                description: "Immerse yourself in the coffee plantations and misty hills of Coorg. Details will be revealed soon!",
                status: "Request Invite"
            },
            dandeli: {
                title: "Dandeli",
                backgroundImage: "./journeys/dandeli.webp",
                dates: "",
                start: "24th December, 7:00pm from Hyderabad",
                return: "28th December, 7:00am to Hyderabad",
                price: "₹15,999",
                maxSpots: "11 only",
                lastDate: "15th December, 2025",
                includes: "Travel, Stay (Riverside Resort + Tent Night), All Meals for 3 days (300rs cap/meal), Kayaking, Small Rafting, Zipline, Boating, Zorbing, Forest Trek, Birdwatching Morning, Bonfire Night, Cycling, Archery, and four unhurried days held gently by water and trees.",
                description: `Think slow river mornings, soft forests that breathe with you, and evenings wrapped in firelight and quiet conversations.

You might paddle through still water, wake up to birds you don't know the names of yet, walk under tall trees that make everything feel lighter, or share simple moments with strangers who feel a little like home by the end.

A Christmas escape that moves at the pace of the river beside you — calm, steady, and exactly what this time of the year deserves.`,
                status: "active"
            },
            devkundwaterfalls: {
                title: "Devkund Waterfalls",
                backgroundImage: "./journeys/Devkund Waterfalls.png",
                description: "Discover the hidden gem of Devkund Waterfalls. A trekker's paradise awaits!",
                status: "Request Invite"
            },
            ekolevalleyview: {
                title: "Ekole Valley View",
                backgroundImage: "./journeys/Ekole Valley View.png",
                description: "Take in the breathtaking valley views from Ekole. More details coming soon!",
                status: "Request Invite"
            },
            gandikota: {
                title: "Gandikota",
                backgroundImage: "./journeys/Gandikota.png",
                description: "Explore the Grand Canyon of India in Gandikota. Details will be revealed soon!",
                status: "Request Invite"
            },
            gangaravambeach: {
                title: "Gangaravam Beach",
                backgroundImage: "./journeys/Gangaravam Beach.png",
                description: "Relax and unwind at the pristine Gangaravam Beach. More details coming soon!",
                status: "Request Invite"
            },
            gokarna: {
                title: "Gokarna",
                backgroundImage: "./journeys/Gokarna.png",
                description: "Experience the spiritual and beach vibes of Gokarna. Details will be revealed soon!",
                status: "Request Invite"
            },
            kalsubaipeak: {
                title: "Kalsubai Peak",
                backgroundImage: "./journeys/Kalsubai Peak.png",
                description: "Conquer the highest peak in Maharashtra - Kalsubai Peak. More details coming soon!",
                status: "Request Invite"
            },
            kaluwaterfalls: {
                title: "Kalu Waterfalls",
                backgroundImage: "./journeys/Kalu Waterfalls.png",
                description: "Discover the beauty of Kalu Waterfalls. Details will be revealed soon!",
                status: "Request Invite"
            },
            khandala: {
                title: "Khandala",
                backgroundImage: "./journeys/Khandala.png",
                description: "Escape to the hill station of Khandala. More details coming soon!",
                status: "Request Invite"
            },
            kolad: {
                title: "Kolad",
                backgroundImage: "./journeys/Kolad.png",
                description: "Experience adventure sports and natural beauty in Kolad. Details will be revealed soon!",
                status: "Request Invite"
            },
            kudremukhtrek: {
                title: "Kudremukh Trek",
                backgroundImage: "./journeys/Kudremukh Trek.png",
                description: "Embark on an exciting trek to Kudremukh Peak. More details coming soon!",
                status: "Request Invite"
            },
            lonavala: {
                title: "Lonavala",
                backgroundImage: "./journeys/Lonavala.png",
                description: "Enjoy the monsoon magic and scenic beauty of Lonavala. Details will be revealed soon!",
                status: "Request Invite"
            },
            mahabaleshwar: {
                title: "Mahabaleshwar",
                backgroundImage: "./journeys/Mahabaleshwar.png",
                description: "Explore the strawberry capital and hill station of Mahabaleshwar. More details coming soon!",
                status: "Request Invite"
            },
            matheran: {
                title: "Matheran",
                backgroundImage: "./journeys/Matheran.png",
                description: "Experience the eco-sensitive hill station of Matheran. Details will be revealed soon!",
                status: "Request Invite"
            },
            nashik: {
                title: "Nashik",
                backgroundImage: "./journeys/Nashik.png",
                description: "Discover the wine capital and spiritual city of Nashik. More details coming soon!",
                status: "Request Invite"
            },
            netravathitrek: {
                title: "Netravathi Trek",
                backgroundImage: "./journeys/Netravathi Trek (Karnataka).png",
                description: "Trek through the beautiful Netravathi region in Karnataka. Details will be revealed soon!",
                status: "Request Invite"
            },
            pondicherry: {
                title: "Pondicherry",
                backgroundImage: "./journeys/Pondicherry.png",
                description: "Experience the French colonial charm and beaches of Pondicherry. More details coming soon!",
                status: "Request Invite"
            },
            raigad: {
                title: "Raigad",
                backgroundImage: "./journeys/Raigad.png",
                description: "Explore the historical fort and scenic beauty of Raigad. Details will be revealed soon!",
                status: "Request Invite"
            },
            southgoa: {
                title: "South Goa",
                backgroundImage: "./journeys/South Goa.png",
                description: "Relax on the pristine beaches and enjoy the laid-back vibe of South Goa. More details coming soon!",
                status: "Request Invite"
            },
            varkala: {
                title: "Varkala",
                backgroundImage: "./journeys/Varkala.png",
                description: "Discover the cliff beach and spiritual vibes of Varkala. Details will be revealed soon!",
                status: "Request Invite"
            },
            wayanad: {
                title: "Wayanad",
                backgroundImage: "./journeys/Wayanad.png",
                description: "Explore the lush green landscapes and wildlife of Wayanad. More details coming soon!",
                status: "Request Invite"
            }
        };

        // Initialize page based on URL parameter
        document.addEventListener('DOMContentLoaded', function () {
            const urlParams = new URLSearchParams(window.location.search);
            const destination = urlParams.get('destination');

            if (destination && journeyData[destination.toLowerCase()]) {
                loadJourneyDetails(destination.toLowerCase());
            } else {
                // If no valid destination, redirect to main page
                window.location.href = 'index.html#journeys';
            }
        });

        function loadJourneyDetails(destination) {
            const data = journeyData[destination];
            if (!data) return;

            // Update page title
            document.getElementById('page-title').textContent = `${data.title} - Tiri Tara`;
            document.title = `${data.title} - Tiri Tara`;

            // Set background image
            const body = document.getElementById('journey-page-body');
            body.style.backgroundImage = `url('${data.backgroundImage}')`;

            // Generate content based on status
            const cardElement = document.getElementById('journey-card');

            if (data.status === 'active' || data.status === 'completed') {
                cardElement.innerHTML = generateActiveJourneyCard(data);
            } else {
                cardElement.innerHTML = generateComingSoonCard(data);
            }

            // Setup back button
            setupBackButton();
        }

        function generateActiveJourneyCard(data) {
            // Helper function to generate info item only if value exists
            const generateInfoItem = (label, value, cssClass = '') => {
                if (!value || value.trim() === '') return '';
                const valueClass = cssClass ? ` class="${cssClass}"` : '';
                return `
                        <div class="journey-info-item">
                            <span class="journey-info-label">${label}:</span>
                            <span class="journey-info-value${valueClass}">${value}</span>
                        </div>`;
            };

            return `
                <h1>${data.title}</h1>
                
                <div class="journey-content-grid">
                    <div class="journey-info">
                        ${generateInfoItem('Dates', data.dates)}
                        ${generateInfoItem('Start', data.start)}
                        ${generateInfoItem('Return', data.return)}
                        ${generateInfoItem('Price', data.price, 'price-highlight')}
                        ${generateInfoItem('Max Spots', data.maxSpots)}
                        ${generateInfoItem('Last day to request an invite', data.lastDate)}
                        ${generateInfoItem('Includes', data.includes)}
                    </div>

                    <div class="what-to-expect">
                        <h2>What to Expect:</h2>
                        ${data.description.split('\n\n').map(para => `<p>${para.trim()}</p>`).join('')}
                    </div>
                </div>

                <div class="book-now-section">
                    <button class="book-now-btn" onclick="requestInvite('${data.title}', '${data.status}')">
                        ${data.status === 'completed' ? "Let's go again" : "Request Invite"}
                    </button>
                </div>
            `;
        }

        function generateComingSoonCard(data) {
            return `
                <h1>${data.title}</h1>
                
                <div class="coming-soon">
                    <h2>To be Revealed Soon!</h2>
                    <p>${data.description}</p>
                    <button class="book-now-btn" onclick="requestInvite('${data.title}')">
                        Request Invite
                    </button>
                </div>
            `;
        }

        function setupBackButton() {
            const backButton = document.getElementById('back-button');
            backButton.addEventListener('click', function (e) {
                e.preventDefault();

                // Check if we came from the main page
                if (document.referrer.includes(window.location.origin)) {
                    window.history.back();
                } else {
                    window.location.href = 'index.html#journeys';
                }
            });
        }

        function requestInvite(destination, status) {
            // Create WhatsApp URL with phone number and pre-filled message
            const phoneNumber = '918143120853'; // +91 81431 20853
            // Different message for completed trips
            const message = status === 'completed'
                ? `Hi, Let's go to ${destination} again!`
                : `Hi, Don't go to ${destination} without me!`;
            const encodedMessage = encodeURIComponent(message);
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;

            // Track booking request
            if (typeof window.va !== 'undefined') {
                window.va('track', 'Booking Requested', { destination: destination, status: status || 'upcoming' });
            }

            // Open in new tab/window
            window.open(whatsappURL, '_blank');
        }

        // Join form functionality
        function openJoinForm(event, updateURL = false) {
            if (event) event.preventDefault();

            const popup = document.getElementById('joinFormPopup');
            if (popup) {
                popup.style.display = 'flex';
                popup.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';

                popup.addEventListener('click', function (e) {
                    if (e.target === popup) {
                        closeJoinForm();
                    }
                });

                const closeBtn = popup.querySelector('.form-close-btn');
                if (closeBtn) {
                    closeBtn.focus();
                }
            }
        }

        function closeJoinForm() {
            const popup = document.getElementById('joinFormPopup');
            if (popup) {
                popup.style.display = 'none';
                popup.setAttribute('aria-hidden', 'true');
                document.body.style.overflow = 'auto';
            }
        }
    </script>
</body>

</html>